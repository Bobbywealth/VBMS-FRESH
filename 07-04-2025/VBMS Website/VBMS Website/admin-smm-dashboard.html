<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Social Media Management - VBMS Admin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --vbms-primary: #2c3e50;
      --vbms-secondary: #3498db;
      --vbms-success: #27ae60;
      --vbms-warning: #f39c12;
      --vbms-danger: #e74c3c;
      --vbms-gold: #FFD600;
      --instagram-gradient: linear-gradient(45deg, #405de6, #5851db, #833ab4, #c13584, #e1306c, #fd1d1d);
      --facebook-color: #1877f2;
      --twitter-color: #1da1f2;
      --google-color: #4285f4;
    }

    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .smm-card {
      background: white;
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      border: none;
      overflow: hidden;
      position: relative;
    }

    .smm-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }

    .smm-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--vbms-gold);
    }

    .smm-card.instagram::before {
      background: var(--instagram-gradient);
    }

    .smm-card.facebook::before {
      background: var(--facebook-color);
    }

    .smm-card.twitter::before {
      background: var(--twitter-color);
    }

    .smm-card.google::before {
      background: var(--google-color);
    }

    .social-icon {
      width: 60px;
      height: 60px;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      color: white;
      margin-bottom: 1rem;
    }

    .social-icon.instagram {
      background: var(--instagram-gradient);
    }

    .social-icon.facebook {
      background: var(--facebook-color);
    }

    .social-icon.twitter {
      background: var(--twitter-color);
    }

    .social-icon.google {
      background: var(--google-color);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: #6c757d;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .trend-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.8rem;
      font-weight: 600;
      padding: 0.25rem 0.5rem;
      border-radius: 20px;
    }

    .trend-up {
      background: rgba(39, 174, 96, 0.1);
      color: #27ae60;
    }

    .trend-down {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
    }

    .trend-stable {
      background: rgba(52, 152, 219, 0.1);
      color: #3498db;
    }

    .sidebar {
      background: var(--vbms-primary);
      min-height: 100vh;
      padding: 2rem 1rem;
    }

    .sidebar a {
      color: #ecf0f1;
      text-decoration: none;
      padding: 0.75rem 1rem;
      border-radius: 10px;
      margin-bottom: 0.5rem;
      display: block;
      transition: all 0.3s ease;
    }

    .sidebar a:hover, .sidebar a.active {
      background: var(--vbms-secondary);
      color: white;
    }

    .main-content {
      padding: 2rem;
    }

    .chart-container {
      background: white;
      border-radius: 15px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      height: 400px;
    }

    .review-card {
      background: white;
      border-radius: 15px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      border-left: 4px solid var(--google-color);
    }

    .star-rating {
      color: #ffc107;
    }

    .post-preview {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
      border-left: 3px solid var(--vbms-gold);
    }

    .engagement-meter {
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 0.5rem;
    }

    .engagement-fill {
      height: 100%;
      background: linear-gradient(90deg, #27ae60, #2ecc71);
      transition: width 1s ease;
    }

    .connection-status {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.8rem;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-weight: 600;
    }

    .connected {
      background: rgba(39, 174, 96, 0.1);
      color: #27ae60;
    }

    .disconnected {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
    }

    .action-btn {
      border-radius: 25px;
      padding: 0.5rem 1.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-3 col-lg-2 sidebar">
        <h4 class="text-white mb-4">
          <i class="bi bi-share me-2"></i>
          SMM Dashboard
        </h4>
        <a href="#overview" class="active">
          <i class="bi bi-speedometer2 me-2"></i>Overview
        </a>
        <a href="#instagram">
          <i class="bi bi-instagram me-2"></i>Instagram
        </a>
        <a href="#facebook">
          <i class="bi bi-facebook me-2"></i>Facebook
        </a>
        <a href="#twitter">
          <i class="bi bi-twitter me-2"></i>X (Twitter)
        </a>
        <a href="#reviews">
          <i class="bi bi-star-fill me-2"></i>Google Reviews
        </a>
        <a href="#content">
          <i class="bi bi-file-post me-2"></i>Content Calendar
        </a>
        <a href="#settings">
          <i class="bi bi-gear me-2"></i>Settings
        </a>
      </div>

      <!-- Main Content -->
      <div class="col-md-9 col-lg-10 main-content">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <div>
            <h1 class="h3 mb-0">Social Media Management</h1>
            <p class="text-muted">Monitor and manage all your social media accounts</p>
          </div>
          <div>
            <button class="btn btn-primary action-btn me-2" onclick="refreshAllStats()">
              <i class="bi bi-arrow-clockwise me-2"></i>Refresh All
            </button>
            <button class="btn btn-success action-btn" onclick="schedulePost()">
              <i class="bi bi-plus-circle me-2"></i>Schedule Post
            </button>
          </div>
        </div>

        <!-- Social Media Stats Overview -->
        <div class="row mb-4">
          <!-- Instagram Card -->
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="smm-card instagram">
              <div class="d-flex justify-content-between align-items-start mb-3">
                <div class="social-icon instagram">
                  <i class="bi bi-instagram"></i>
                </div>
                <span class="connection-status connected" id="igStatus">
                  <i class="bi bi-check-circle-fill"></i>Connected
                </span>
              </div>
              <div class="stat-number" id="igFollowers">12.5K</div>
              <div class="stat-label">Instagram Followers</div>
              <div class="mt-2">
                <span class="trend-indicator trend-up" id="igTrend">
                  <i class="bi bi-arrow-up"></i>+2.3%
                </span>
              </div>
              <div class="engagement-meter">
                <div class="engagement-fill" style="width: 78%"></div>
              </div>
              <small class="text-muted mt-1">78% Engagement Rate</small>
            </div>
          </div>

          <!-- Facebook Card -->
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="smm-card facebook">
              <div class="d-flex justify-content-between align-items-start mb-3">
                <div class="social-icon facebook">
                  <i class="bi bi-facebook"></i>
                </div>
                <span class="connection-status connected" id="fbStatus">
                  <i class="bi bi-check-circle-fill"></i>Connected
                </span>
              </div>
              <div class="stat-number" id="fbFollowers">8.2K</div>
              <div class="stat-label">Facebook Followers</div>
              <div class="mt-2">
                <span class="trend-indicator trend-up" id="fbTrend">
                  <i class="bi bi-arrow-up"></i>+1.8%
                </span>
              </div>
              <div class="engagement-meter">
                <div class="engagement-fill" style="width: 65%"></div>
              </div>
              <small class="text-muted mt-1">65% Engagement Rate</small>
            </div>
          </div>

          <!-- X (Twitter) Card -->
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="smm-card twitter">
              <div class="d-flex justify-content-between align-items-start mb-3">
                <div class="social-icon twitter">
                  <i class="bi bi-twitter"></i>
                </div>
                <span class="connection-status connected" id="twitterStatus">
                  <i class="bi bi-check-circle-fill"></i>Connected
                </span>
              </div>
              <div class="stat-number" id="twitterFollowers">5.7K</div>
              <div class="stat-label">X (Twitter) Followers</div>
              <div class="mt-2">
                <span class="trend-indicator trend-stable" id="twitterTrend">
                  <i class="bi bi-dash"></i>+0.5%
                </span>
              </div>
              <div class="engagement-meter">
                <div class="engagement-fill" style="width: 45%"></div>
              </div>
              <small class="text-muted mt-1">45% Engagement Rate</small>
            </div>
          </div>

          <!-- Google Reviews Card -->
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="smm-card google">
              <div class="d-flex justify-content-between align-items-start mb-3">
                <div class="social-icon google">
                  <i class="bi bi-google"></i>
                </div>
                <span class="connection-status connected" id="googleStatus">
                  <i class="bi bi-check-circle-fill"></i>Connected
                </span>
              </div>
              <div class="stat-number" id="googleRating">4.8</div>
              <div class="stat-label">Google Rating</div>
              <div class="mt-2">
                <div class="star-rating">
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-half"></i>
                </div>
              </div>
              <small class="text-muted mt-1" id="reviewCount">142 Reviews</small>
            </div>
          </div>
        </div>

        <!-- Analytics and Recent Activity -->
        <div class="row">
          <!-- Social Media Analytics Chart -->
          <div class="col-lg-8 mb-4">
            <div class="chart-container">
              <h5 class="mb-3">
                <i class="bi bi-graph-up me-2"></i>
                Social Media Growth (Last 30 Days)
              </h5>
              <canvas id="socialMediaChart" width="400" height="200"></canvas>
            </div>
          </div>

          <!-- Recent Google Reviews -->
          <div class="col-lg-4 mb-4">
            <div class="smm-card">
              <h5 class="mb-3">
                <i class="bi bi-star-fill me-2 text-warning"></i>
                Recent Google Reviews
              </h5>
              <div id="recentReviews">
                <!-- Reviews will be loaded here -->
              </div>
              <div class="text-center mt-3">
                <button class="btn btn-outline-primary btn-sm" onclick="viewAllReviews()">
                  View All Reviews
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Posts and Content Calendar -->
        <div class="row">
          <!-- Recent Posts -->
          <div class="col-lg-6 mb-4">
            <div class="smm-card">
              <h5 class="mb-3">
                <i class="bi bi-file-post me-2"></i>
                Recent Posts Performance
              </h5>
              <div id="recentPosts">
                <!-- Posts will be loaded here -->
              </div>
            </div>
          </div>

          <!-- Scheduled Posts -->
          <div class="col-lg-6 mb-4">
            <div class="smm-card">
              <h5 class="mb-3">
                <i class="bi bi-calendar-event me-2"></i>
                Scheduled Posts
              </h5>
              <div id="scheduledPosts">
                <!-- Scheduled posts will be loaded here -->
              </div>
              <div class="text-center mt-3">
                <button class="btn btn-primary action-btn" onclick="schedulePost()">
                  <i class="bi bi-plus-circle me-2"></i>Schedule New Post
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Account Management -->
        <div class="row">
          <div class="col-12">
            <div class="smm-card">
              <h5 class="mb-3">
                <i class="bi bi-link-45deg me-2"></i>
                Social Media Account Management
              </h5>
              <div class="row">
                <div class="col-md-3 mb-3">
                  <div class="text-center p-3 border rounded">
                    <i class="bi bi-instagram fs-1 text-danger mb-2"></i>
                    <h6>Instagram</h6>
                    <span class="badge bg-success mb-2">Connected</span>
                    <br>
                    <button class="btn btn-outline-danger btn-sm" onclick="disconnectAccount('instagram')">
                      Disconnect
                    </button>
                  </div>
                </div>
                <div class="col-md-3 mb-3">
                  <div class="text-center p-3 border rounded">
                    <i class="bi bi-facebook fs-1 text-primary mb-2"></i>
                    <h6>Facebook</h6>
                    <span class="badge bg-success mb-2">Connected</span>
                    <br>
                    <button class="btn btn-outline-danger btn-sm" onclick="disconnectAccount('facebook')">
                      Disconnect
                    </button>
                  </div>
                </div>
                <div class="col-md-3 mb-3">
                  <div class="text-center p-3 border rounded">
                    <i class="bi bi-twitter fs-1 text-info mb-2"></i>
                    <h6>X (Twitter)</h6>
                    <span class="badge bg-success mb-2">Connected</span>
                    <br>
                    <button class="btn btn-outline-danger btn-sm" onclick="disconnectAccount('twitter')">
                      Disconnect
                    </button>
                  </div>
                </div>
                <div class="col-md-3 mb-3">
                  <div class="text-center p-3 border rounded">
                    <i class="bi bi-google fs-1 text-warning mb-2"></i>
                    <h6>Google Business</h6>
                    <span class="badge bg-success mb-2">Connected</span>
                    <br>
                    <button class="btn btn-outline-danger btn-sm" onclick="disconnectAccount('google')">
                      Disconnect
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Schedule Post Modal -->
  <div class="modal fade" id="schedulePostModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Schedule New Post</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="schedulePostForm">
            <div class="mb-3">
              <label class="form-label">Select Platforms</label>
              <div class="row">
                <div class="col-md-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="postToIG" checked>
                    <label class="form-check-label" for="postToIG">
                      <i class="bi bi-instagram text-danger me-1"></i>Instagram
                    </label>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="postToFB" checked>
                    <label class="form-check-label" for="postToFB">
                      <i class="bi bi-facebook text-primary me-1"></i>Facebook
                    </label>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="postToTwitter">
                    <label class="form-check-label" for="postToTwitter">
                      <i class="bi bi-twitter text-info me-1"></i>X (Twitter)
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Post Content</label>
              <textarea class="form-control" rows="4" placeholder="What's on your mind?"></textarea>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">Schedule Date</label>
                <input type="date" class="form-control">
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Schedule Time</label>
                <input type="time" class="form-control">
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Attach Media</label>
              <input type="file" class="form-control" multiple accept="image/*,video/*">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" onclick="saveScheduledPost()">Schedule Post</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    let socialMediaChart;

    // Initialize dashboard
    document.addEventListener('DOMContentLoaded', function() {
      loadSocialMediaStats();
      initializeChart();
      loadRecentReviews();
      loadRecentPosts();
      loadScheduledPosts();
      
      // Refresh data every 5 minutes
      setInterval(loadSocialMediaStats, 300000);
    });

    // Load social media statistics
    async function loadSocialMediaStats() {
      try {
        // In a real implementation, these would be API calls to respective platforms
        const stats = await fetchSocialMediaStats();
        updateStatsDisplay(stats);
      } catch (error) {
        console.error('Error loading social media stats:', error);
        // Show demo data
        showDemoStats();
      }
    }

    // Fetch social media stats (placeholder for real API integration)
    async function fetchSocialMediaStats() {
      // This would integrate with real APIs:
      // - Instagram Basic Display API
      // - Facebook Graph API  
      // - Twitter API v2
      // - Google My Business API
      
      return {
        instagram: {
          followers: 12543,
          engagement: 78,
          growth: 2.3
        },
        facebook: {
          followers: 8234,
          engagement: 65,
          growth: 1.8
        },
        twitter: {
          followers: 5678,
          engagement: 45,
          growth: 0.5
        },
        google: {
          rating: 4.8,
          reviews: 142,
          newReviews: 5
        }
      };
    }

    // Update stats display
    function updateStatsDisplay(stats) {
      document.getElementById('igFollowers').textContent = formatNumber(stats.instagram.followers);
      document.getElementById('fbFollowers').textContent = formatNumber(stats.facebook.followers);
      document.getElementById('twitterFollowers').textContent = formatNumber(stats.twitter.followers);
      document.getElementById('googleRating').textContent = stats.google.rating;
      document.getElementById('reviewCount').textContent = `${stats.google.reviews} Reviews`;
      
      // Update trends
      updateTrendIndicator('igTrend', stats.instagram.growth);
      updateTrendIndicator('fbTrend', stats.facebook.growth);
      updateTrendIndicator('twitterTrend', stats.twitter.growth);
    }

    // Show demo stats
    function showDemoStats() {
      const demoStats = {
        instagram: { followers: 12543, engagement: 78, growth: 2.3 },
        facebook: { followers: 8234, engagement: 65, growth: 1.8 },
        twitter: { followers: 5678, engagement: 45, growth: 0.5 },
        google: { rating: 4.8, reviews: 142, newReviews: 5 }
      };
      updateStatsDisplay(demoStats);
    }

    // Update trend indicator
    function updateTrendIndicator(elementId, growth) {
      const element = document.getElementById(elementId);
      const icon = element.querySelector('i');
      const text = element.querySelector('span') || element;
      
      if (growth > 1) {
        element.className = 'trend-indicator trend-up';
        icon.className = 'bi bi-arrow-up';
        text.textContent = `+${growth}%`;
      } else if (growth < -1) {
        element.className = 'trend-indicator trend-down';
        icon.className = 'bi bi-arrow-down';
        text.textContent = `${growth}%`;
      } else {
        element.className = 'trend-indicator trend-stable';
        icon.className = 'bi bi-dash';
        text.textContent = `+${growth}%`;
      }
    }

    // Initialize social media chart
    function initializeChart() {
      const ctx = document.getElementById('socialMediaChart').getContext('2d');
      socialMediaChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
          datasets: [
            {
              label: 'Instagram',
              data: [12000, 12200, 12350, 12543],
              borderColor: '#e1306c',
              backgroundColor: 'rgba(225, 48, 108, 0.1)',
              tension: 0.4
            },
            {
              label: 'Facebook',
              data: [8000, 8100, 8180, 8234],
              borderColor: '#1877f2',
              backgroundColor: 'rgba(24, 119, 242, 0.1)',
              tension: 0.4
            },
            {
              label: 'Twitter',
              data: [5500, 5580, 5620, 5678],
              borderColor: '#1da1f2',
              backgroundColor: 'rgba(29, 161, 242, 0.1)',
              tension: 0.4
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top'
            }
          },
          scales: {
            y: {
              beginAtZero: false
            }
          }
        }
      });
    }

    // Load recent Google reviews
    function loadRecentReviews() {
      const reviewsContainer = document.getElementById('recentReviews');
      const demoReviews = [
        {
          author: 'Sarah Johnson',
          rating: 5,
          text: 'Excellent service! The team was very professional and delivered exactly what we needed.',
          date: '2 days ago'
        },
        {
          author: 'Mike Chen',
          rating: 5,
          text: 'Outstanding quality and great communication throughout the project.',
          date: '1 week ago'
        },
        {
          author: 'Lisa Rodriguez',
          rating: 4,
          text: 'Very satisfied with the results. Would definitely recommend!',
          date: '2 weeks ago'
        }
      ];

      reviewsContainer.innerHTML = demoReviews.map(review => `
        <div class="review-card">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <strong>${review.author}</strong>
            <small class="text-muted">${review.date}</small>
          </div>
          <div class="star-rating mb-2">
            ${generateStars(review.rating)}
          </div>
          <p class="mb-0 small">${review.text}</p>
        </div>
      `).join('');
    }

    // Load recent posts
    function loadRecentPosts() {
      const postsContainer = document.getElementById('recentPosts');
      const demoPosts = [
        {
          platform: 'Instagram',
          content: 'Check out our latest project! 🚀 #webdesign #vbms',
          engagement: { likes: 234, comments: 18, shares: 12 },
          time: '2 hours ago'
        },
        {
          platform: 'Facebook',
          content: 'We\'re excited to announce our new feature launch!',
          engagement: { likes: 156, comments: 23, shares: 8 },
          time: '1 day ago'
        }
      ];

      postsContainer.innerHTML = demoPosts.map(post => `
        <div class="post-preview">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <span class="badge bg-primary">${post.platform}</span>
            <small class="text-muted">${post.time}</small>
          </div>
          <p class="mb-2">${post.content}</p>
          <div class="d-flex gap-3 small text-muted">
            <span><i class="bi bi-heart"></i> ${post.engagement.likes}</span>
            <span><i class="bi bi-chat"></i> ${post.engagement.comments}</span>
            <span><i class="bi bi-share"></i> ${post.engagement.shares}</span>
          </div>
        </div>
      `).join('');
    }

    // Load scheduled posts
    function loadScheduledPosts() {
      const scheduledContainer = document.getElementById('scheduledPosts');
      const scheduledPosts = [
        {
          platforms: ['Instagram', 'Facebook'],
          content: 'Weekend motivation post with inspirational quote',
          scheduledTime: 'Tomorrow, 9:00 AM'
        },
        {
          platforms: ['Twitter'],
          content: 'Industry insights and tips for business growth',
          scheduledTime: 'Monday, 2:00 PM'
        }
      ];

      scheduledContainer.innerHTML = scheduledPosts.map(post => `
        <div class="post-preview">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <div>
              ${post.platforms.map(platform => `<span class="badge bg-secondary me-1">${platform}</span>`).join('')}
            </div>
            <small class="text-muted">${post.scheduledTime}</small>
          </div>
          <p class="mb-0">${post.content}</p>
        </div>
      `).join('');
    }

    // Generate star rating HTML
    function generateStars(rating) {
      let stars = '';
      for (let i = 1; i <= 5; i++) {
        if (i <= rating) {
          stars += '<i class="bi bi-star-fill"></i>';
        } else if (i - 0.5 <= rating) {
          stars += '<i class="bi bi-star-half"></i>';
        } else {
          stars += '<i class="bi bi-star"></i>';
        }
      }
      return stars;
    }

    // Format numbers (12543 -> 12.5K)
    function formatNumber(num) {
      if (num >= 1000000) {
        return (num / 1000000).toFixed(1) + 'M';
      }
      if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'K';
      }
      return num.toString();
    }

    // Schedule new post
    function schedulePost() {
      const modal = new bootstrap.Modal(document.getElementById('schedulePostModal'));
      modal.show();
    }

    // Save scheduled post
    function saveScheduledPost() {
      // In real implementation, this would save to database and schedule with social media APIs
      alert('Post scheduled successfully!');
      const modal = bootstrap.Modal.getInstance(document.getElementById('schedulePostModal'));
      modal.hide();
      loadScheduledPosts(); // Refresh scheduled posts
    }

    // Refresh all stats
    function refreshAllStats() {
      loadSocialMediaStats();
      loadRecentReviews();
      loadRecentPosts();
      showNotification('All stats refreshed successfully!', 'success');
    }

    // Disconnect social media account
    function disconnectAccount(platform) {
      if (confirm(`Are you sure you want to disconnect your ${platform} account?`)) {
        // In real implementation, this would revoke OAuth tokens
        showNotification(`${platform} account disconnected`, 'warning');
      }
    }

    // View all reviews
    function viewAllReviews() {
      // Redirect to detailed reviews page
      window.location.href = 'admin-google-reviews.html';
    }

    // Show notification
    function showNotification(message, type) {
      const alert = document.createElement('div');
      alert.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
      alert.style.top = '20px';
      alert.style.right = '20px';
      alert.style.zIndex = '9999';
      alert.innerHTML = `
        ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      `;
      document.body.appendChild(alert);
      
      setTimeout(() => {
        if (alert.parentNode) {
          alert.parentNode.removeChild(alert);
        }
      }, 5000);
    }
  </script>
</body>
</html>
